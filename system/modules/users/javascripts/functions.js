// Funciones JS del m칩dulo// Ejecuci칩n posterior al "Load" de la p치gina.$(document).ready(function() {    $('#users_table_container').jtable({        title: 'Lista de Usuarios del Sistema',        paging: true,        pageSize: 10,        sorting: true,        defaultSorting: 'nombres ASC',        actions: {            listAction: '../core/server.classes/users.server.class.php?action=search',            deleteAction: '../core/server.classes/users.server.class.php?action=delete',            updateAction: '../core/server.classes/users.server.class.php?action=update',            createAction: '../core/server.classes/users.server.class.php?action=create'        },        toolbar: {            items: [{                    tooltip: 'Exportar tabla a Excel',                    icon: '../images/desktop/icons/theme_one/16x16/excel.png',                    text: 'Exportar a Excel',                    click: function() {                        var tableToExcel = (function() {                            var uri = 'data:application/vnd.ms-excel;base64,'                                    , template = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>'                                    , base64 = function(s) {                                        return window.btoa(unescape(encodeURIComponent(s)))                                    }                            , format = function(s, c) {                                return s.replace(/{(\w+)}/g, function(m, p) {                                    return c[p];                                })                            }                            return function(table, name) {                                if (!table.nodeType)                                    table = document.getElementById(table)                                var ctx = {worksheet: name || 'Worksheet', table: table.innerHTML}                                window.location.href = uri + base64(format(template, ctx))                            }                        })();                        tableToExcel('users_table_container', 'Datos');                    }                }]        },        fields: {            id: {                key: true,                create: false,                edit: false,                list: false            },            nombres: {                title: 'Nombres',                inputClass: 'validate[required,custom[onlyLetterSp]]'            },            apellidos: {                title: 'Apellidos',                inputClass: 'validate[required,custom[onlyLetterSp]]'            },            documento: {                title: 'Documento',                inputClass: 'validate[required,custom[onlyNumberSp]]'            },            correo: {                title: 'Correo',                list: false,                inputClass: 'validate[required,custom[email]]'            },            codigo: {                title: 'Codigo',                inputClass: 'validate[required,custom[onlyNumberSp]]'            },            usuario: {                title: 'Usuario',                list: false,                inputClass: 'validate[required]'            },            clave: {                title: 'Contrase침a',                type: 'password',                list: false,                inputClass: 'validate[required]'            },            rol: {                title: 'Rol',                options: {'1': 'Administrador', '2': 'Docente', '3': 'Estudiante'}            },            modalidad: {                title: 'Modalidad (Pago)',                options: function(data) {                    //This code runs when user opens edit/create form or changes continental combobox on an edit/create form.                    //data.source == 'edit' || data.source == 'create'                    if (data.source == 'edit' || data.source == 'create') {                        data.clearCache();                    }                    return '../core/server.classes/drop.down.lists/ddlmodalities.server.class.php';                },                inputClass: 'validate[required]',                list: false            }        },        //Initialize validation logic when a form is created        formCreated: function(event, data) {            data.form.validationEngine();        },        //Validate form when it is being submitted        formSubmitting: function(event, data) {            return data.form.validationEngine('validate');        },        //Dispose validation logic when form is closed        formClosed: function(event, data) {            data.form.validationEngine('hide');            data.form.validationEngine('detach');        }    });    //Re-load records when user click 'load records' button.    $('#search_records').click(function(e) {        e.preventDefault();        $('#users_table_container').jtable('load', {            name: $('#name').val(),            document: $('#document').val()        });    });    //Load all records when page is first shown    $('#search_records').click();});